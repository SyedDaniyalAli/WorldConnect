var time_buffer_value=0;var payment_request_id=0;var is_check_start_time_gone=false;function prepare_tooltip(myParam){var tooltip_day_class_4_show=" .timespartly";if(is_show_availability_in_tooltips){if(wpdev_in_array(parent_booking_resources,myParam))tooltip_day_class_4_show=" .datepick-days-cell";}if(is_show_cost_in_tooltips){tooltip_day_class_4_show=" .datepick-days-cell";}if(typeof(global_avalaibility_times[myParam])!="undefined"){if(global_avalaibility_times[myParam].length>0)tooltip_day_class_4_show=" .datepick-days-cell";}if(jQuery.isFunction(jQuery("#calendar_booking"+myParam+tooltip_day_class_4_show).popover)){jQuery("#calendar_booking"+myParam+tooltip_day_class_4_show).popover({placement:'top auto',trigger:'hover',delay:{show:500,hide:1},content:'',template:'<div class="popover popover_calendar_hover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',container:'#calendar_booking'+myParam,html:'true'});}}function is_this_day_booked(bk_type,td_class,i){if((jQuery('#calendar_booking'+bk_type+' .cal4date-'+td_class).hasClass('date_user_unavailable'))||(jQuery('#calendar_booking'+bk_type+' .cal4date-'+td_class).hasClass('datepick-unselectable'))||((jQuery('#calendar_booking'+bk_type+' .cal4date-'+td_class).hasClass('check_out_time'))&&(i!=0))){jQuery('#calendar_booking'+bk_type+' .cal4date-'+td_class).removeClass('datepick-current-day');document.body.style.cursor='default';return true;}if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined'){for(var j=0;j<date_approved[bk_type][td_class].length;j++){if((date_approved[bk_type][td_class][j][3]==0)&&(date_approved[bk_type][td_class][j][4]==0)){document.body.style.cursor='default';return true;}if(((date_approved[bk_type][td_class][j][5]*1)==2)&&(i!=0)&&(j==0)){document.body.style.cursor='default';return true;}}}if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined'){for(j=0;j<date2approve[bk_type][td_class].length;j++){if((date2approve[bk_type][td_class][j][3]==0)&&(date2approve[bk_type][td_class][j][4]==0)){document.body.style.cursor='default';return true;}if(((date2approve[bk_type][td_class][j][5]*1)==2)&&(i!=0)&&(j==0)){document.body.style.cursor='default';return true;}}}return false;}function getAbsClosestValue(myValue,myArray){if(myArray.length==0)return myValue;var obj=myArray[0];var diff=Math.abs(myValue-obj);var closetValue=myArray[0];for(var i=1;i<myArray.length;i++){obj=myArray[i];if(Math.abs(myValue-obj)<diff){diff=Math.abs(myValue-obj);closetValue=obj;}}return closetValue;}function hoverDayPro(value,date,bk_type){if(date==null){jQuery('.datepick-days-cell-over').removeClass('datepick-days-cell-over');return false;}var inst=jQuery.datepick._getInst(document.getElementById('calendar_booking'+bk_type));var i=0;var td_class;var td_overs=[];if(typeof(check_conditions_for_range_days_selection)=='function'){check_conditions_for_range_days_selection(date,bk_type);}if(bk_days_selection_mode=='fixed'){jQuery('.datepick-days-cell-over').removeClass('datepick-days-cell-over');if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,date,'start');if(bk_1click_mode_days_start!=-1){var startDay=getAbsClosestValue(date.getDay(),bk_1click_mode_days_start);date.setDate(date.getDate()-(date.getDay()-startDay));if(typeof(check_conditions_for_range_days_selection_for_check_in)=='function'){check_conditions_for_range_days_selection_for_check_in(date,bk_type);}}if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,date,'end');if(inst.dates.length>0)for(var date_index in inst.dates){if((inst.dates[date_index].getFullYear()===date.getFullYear())&&(inst.dates[date_index].getMonth()===date.getMonth())&&(inst.dates[date_index].getDate()===date.getDate())){return false;}}for(i=0;i<bk_1click_mode_days_num;i++){td_class=(date.getMonth()+1)+'-'+date.getDate()+'-'+date.getFullYear();if(is_this_day_booked(bk_type,td_class,i))return false;td_overs[td_overs.length]='#calendar_booking'+bk_type+' .cal4date-'+td_class;date.setDate(date.getDate()+1);}for(i=0;i<td_overs.length;i++){jQuery(td_overs[i]).addClass('datepick-days-cell-over');}return true;}if(bk_days_selection_mode=='dynamic'){jQuery('.datepick-days-cell-over').removeClass('datepick-days-cell-over');if((inst.dates.length==0)||(inst.dates.length>1)){var selceted_first_day=new Date();selceted_first_day.setFullYear(date.getFullYear(),(date.getMonth()),(date.getDate()));if(inst.dates.length>0)for(var date_index in inst.dates){if((inst.dates[date_index].getFullYear()===selceted_first_day.getFullYear())&&(inst.dates[date_index].getMonth()===selceted_first_day.getMonth())&&(inst.dates[date_index].getDate()===selceted_first_day.getDate())){return false;}}if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,date,'start');if(bk_2clicks_mode_days_start!=-1){var startDay=getAbsClosestValue(date.getDay(),bk_2clicks_mode_days_start);selceted_first_day.setDate(date.getDate()-(date.getDay()-startDay));if(typeof(check_conditions_for_range_days_selection_for_check_in)=='function'){check_conditions_for_range_days_selection_for_check_in(selceted_first_day,bk_type);}}if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,date,'end');i=0;while((i<bk_2clicks_mode_days_min)){i++;td_class=(selceted_first_day.getMonth()+1)+'-'+selceted_first_day.getDate()+'-'+selceted_first_day.getFullYear();if(is_this_day_booked(bk_type,td_class,(i-1)))return false;td_overs[td_overs.length]='#calendar_booking'+bk_type+' .cal4date-'+td_class;selceted_first_day.setFullYear(selceted_first_day.getFullYear(),(selceted_first_day.getMonth()),(selceted_first_day.getDate()+1));}}if(inst.dates.length==1){var selceted_first_day=new Date();selceted_first_day.setFullYear(inst.dates[0].getFullYear(),(inst.dates[0].getMonth()),(inst.dates[0].getDate()));var is_check=true;i=0;while((is_check)||(i<bk_2clicks_mode_days_min)){i++;td_class=(selceted_first_day.getMonth()+1)+'-'+selceted_first_day.getDate()+'-'+selceted_first_day.getFullYear();if(is_this_day_booked(bk_type,td_class,(i-1)))return false;td_overs[td_overs.length]='#calendar_booking'+bk_type+' .cal4date-'+td_class;var is_discreet_ok=true;if(bk_2clicks_mode_days_specific.length>0){is_discreet_ok=false;for(var di=0;di<bk_2clicks_mode_days_specific.length;di++){if((i==bk_2clicks_mode_days_specific[di])){is_discreet_ok=true;di=(bk_2clicks_mode_days_specific.length+1);}}}if((date.getMonth()==selceted_first_day.getMonth())&&(date.getDate()==selceted_first_day.getDate())&&(date.getFullYear()==selceted_first_day.getFullYear())&&(is_discreet_ok)){is_check=false;}if((selceted_first_day>date)&&(i>=bk_2clicks_mode_days_min)&&(i<bk_2clicks_mode_days_max)&&(is_discreet_ok)){is_check=false;}if(i>=bk_2clicks_mode_days_max)is_check=false;selceted_first_day.setFullYear(selceted_first_day.getFullYear(),(selceted_first_day.getMonth()),(selceted_first_day.getDate()+1));}}for(i=0;i<td_overs.length;i++){jQuery(td_overs[i]).addClass('datepick-days-cell-over');}return true;}}function selectDayPro(all_dates,bk_type){if(typeof(prepare_tooltip)=='function'){setTimeout("prepare_tooltip("+bk_type+");",1000);}if(typeof(check_conditions_for_range_days_selection)=='function'){check_conditions_for_range_days_selection(all_dates,bk_type);}bkRangeDaysSelection(all_dates,bk_type);if(typeof(check_condition_sections_in_bkform)=='function'){check_condition_sections_in_bkform(jQuery('#date_booking'+bk_type).val(),bk_type);}bkDisableBookedTimeSlots(jQuery('#date_booking'+bk_type).val(),bk_type);if(typeof(showCostHintInsideBkForm)=='function'){showCostHintInsideBkForm(bk_type);}if(false)if(bk_days_selection_mode=='dynamic'){if(jQuery('#booking_form_div'+bk_type+' input[type="button"]').prop('disabled')){var message_verif_select_checkout="Please, select 'Check Out' date at Calendar.";jQuery('#date_booking'+bk_type).after('<span class="wpbc_message_select_checkout wpdev-help-message wpdev-element-message alert alert-warning">'+message_verif_select_checkout+'</span>');jQuery(".wpbc_message_select_checkout").animate({opacity:1},10000).fadeOut(2000);}else{jQuery(".wpbc_message_select_checkout").remove();}}}var isIE_4_bk=(navigator.appName=="Microsoft Internet Explorer");var IEversion_4_bk=navigator.appVersion;if(isIE_4_bk){IEversion_4_bk=parseInt(IEversion_4_bk.substr(IEversion_4_bk.indexOf("MSIE")+4));}else{IEversion_4_bk=0;}function bkRangeDaysSelection(all_dates,bk_type){var inst=jQuery.datepick._getInst(document.getElementById('calendar_booking'+bk_type));var td_class;if((bk_days_selection_mode=='fixed')||(bk_days_selection_mode=='dynamic')){var internal_bk_1click_mode_days_num=bk_1click_mode_days_num;if(all_dates.indexOf(' - ')!=-1){var start_end_date=all_dates.split(" - ");var is_dynamic_startdayequal_to_last=true;if(inst.dates.length>1){if(bk_days_selection_mode=='dynamic'){is_dynamic_startdayequal_to_last=false;}}if((start_end_date[0]==start_end_date[1])&&(is_dynamic_startdayequal_to_last===true)){if(typeof(check_conditions_for_start_day_selection)=='function'){var start_dynamic_date=start_end_date[0].split(".");var real_start_dynamic_date=new Date();real_start_dynamic_date.setFullYear(start_dynamic_date[2],start_dynamic_date[1]-1,start_dynamic_date[0]);check_conditions_for_start_day_selection(bk_type,real_start_dynamic_date,'start');}if(bk_2clicks_mode_days_start!=-1){var start_dynamic_date=start_end_date[0].split(".");var real_start_dynamic_date=new Date();real_start_dynamic_date.setFullYear(start_dynamic_date[2],start_dynamic_date[1]-1,start_dynamic_date[0]);if(real_start_dynamic_date.getDay()!=bk_2clicks_mode_days_start){var startDay=getAbsClosestValue(real_start_dynamic_date.getDay(),bk_2clicks_mode_days_start);real_start_dynamic_date.setDate(real_start_dynamic_date.getDate()-(real_start_dynamic_date.getDay()-startDay));all_dates=jQuery.datepick._formatDate(inst,real_start_dynamic_date);all_dates+=' - '+all_dates;jQuery('#date_booking'+bk_type).val(all_dates);if(typeof(check_conditions_for_range_days_selection)=='function'){check_conditions_for_range_days_selection(all_dates,bk_type);}var selceted_first_day=new Date;selceted_first_day.setFullYear(real_start_dynamic_date.getFullYear(),(real_start_dynamic_date.getMonth()),(real_start_dynamic_date.getDate()));i=0;while((i<bk_2clicks_mode_days_min)){td_class=(selceted_first_day.getMonth()+1)+'-'+selceted_first_day.getDate()+'-'+selceted_first_day.getFullYear();if(is_this_day_booked(bk_type,td_class,(i))){jQuery('#date_booking'+bk_type).val('');inst.stayOpen=false;inst.dates=[];jQuery.datepick._updateDatepick(inst);return false;}selceted_first_day.setFullYear(selceted_first_day.getFullYear(),(selceted_first_day.getMonth()),(selceted_first_day.getDate()+1));i++;}inst.cursorDate.setFullYear(real_start_dynamic_date.getFullYear(),(real_start_dynamic_date.getMonth()),(real_start_dynamic_date.getDate()));inst.dates=[inst.cursorDate];jQuery.datepick._updateDatepick(inst);}}else{var start_dynamic_date=start_end_date[0].split(".");var real_start_dynamic_date=new Date();real_start_dynamic_date.setFullYear(start_dynamic_date[2],start_dynamic_date[1]-1,start_dynamic_date[0]);inst.cursorDate.setFullYear(real_start_dynamic_date.getFullYear(),(real_start_dynamic_date.getMonth()),(real_start_dynamic_date.getDate()));inst.dates=[inst.cursorDate];jQuery.datepick._updateDatepick(inst);jQuery('#date_booking'+bk_type).val(start_end_date[0]);}if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,'','end');submit_bk_color=jQuery('#booking_form_div'+bk_type+' input[type="button"]').css('color');if(bk_2clicks_mode_days_min>1){jQuery('#booking_form_div'+bk_type+' input[type="button"]').attr('disabled','disabled');jQuery('#booking_form_div'+bk_type+' input[type="button"]').css('color','#aaa');}setTimeout(function(){jQuery('#calendar_booking'+bk_type+' .datepick-unselectable.timespartly.check_out_time,#calendar_booking'+bk_type+' .datepick-unselectable.timespartly.check_in_time').removeClass('datepick-unselectable');},500);return false;}else{jQuery('#booking_form_div'+bk_type+' input[type="button"]').removeAttr('disabled');jQuery('#booking_form_div'+bk_type+' input[type="button"]').css('color',submit_bk_color);var start_dynamic_date=start_end_date[0].split(".");var real_start_dynamic_date=new Date();real_start_dynamic_date.setFullYear(start_dynamic_date[2],start_dynamic_date[1]-1,start_dynamic_date[0]);var end_dynamic_date=start_end_date[1].split(".");var real_end_dynamic_date=new Date();real_end_dynamic_date.setFullYear(end_dynamic_date[2],end_dynamic_date[1]-1,end_dynamic_date[0]);internal_bk_1click_mode_days_num=1;var temp_date_for_count=new Date();for(var j1=0;j1<365;j1++){temp_date_for_count=new Date();temp_date_for_count.setFullYear(real_start_dynamic_date.getFullYear(),(real_start_dynamic_date.getMonth()),(real_start_dynamic_date.getDate()+j1));if((temp_date_for_count.getFullYear()==real_end_dynamic_date.getFullYear())&&(temp_date_for_count.getMonth()==real_end_dynamic_date.getMonth())&&(temp_date_for_count.getDate()==real_end_dynamic_date.getDate())){internal_bk_1click_mode_days_num=j1;j1=1000;}}internal_bk_1click_mode_days_num++;all_dates=start_end_date[0];if(internal_bk_1click_mode_days_num<bk_2clicks_mode_days_min)internal_bk_1click_mode_days_num=bk_2clicks_mode_days_min;var is_backward_direction=false;if(bk_2clicks_mode_days_specific.length>0){var is_discreet_ok=false;while(is_discreet_ok===false){for(var di=0;di<bk_2clicks_mode_days_specific.length;di++){if(((internal_bk_1click_mode_days_num==bk_2clicks_mode_days_specific[di]))&&(internal_bk_1click_mode_days_num<=bk_2clicks_mode_days_max)){is_discreet_ok=true;di=(bk_2clicks_mode_days_specific.length+1);}}if(is_backward_direction===false)if(is_discreet_ok===false)internal_bk_1click_mode_days_num++;if(internal_bk_1click_mode_days_num>=bk_2clicks_mode_days_max)is_backward_direction=true;if(is_backward_direction===true)if(is_discreet_ok===false)internal_bk_1click_mode_days_num--;if(internal_bk_1click_mode_days_num<bk_2clicks_mode_days_min)is_discreet_ok=true;}}else{if(internal_bk_1click_mode_days_num>bk_2clicks_mode_days_max)internal_bk_1click_mode_days_num=bk_2clicks_mode_days_max;}}}var temp_bk_days_selection_mode=bk_days_selection_mode;bk_days_selection_mode='multiple';inst.dates=[];var all_dates_array;var date_array;var date;var date_to_ins;if(all_dates.indexOf(',')==-1){all_dates_array=[all_dates];}else{all_dates_array=all_dates.split(",");}var original_array=[];var isMakeSelection=false;if(temp_bk_days_selection_mode!='dynamic'){for(var j=0;j<all_dates_array.length;j++){all_dates_array[j]=all_dates_array[j].replace(/(^\s+)|(\s+$)/g,"");date_array=all_dates_array[j].split(".");date=new Date();date.setFullYear(date_array[2],date_array[1]-1,date_array[0]);if((date.getFullYear()==inst.cursorDate.getFullYear())&&(date.getMonth()==inst.cursorDate.getMonth())&&(date.getDate()==inst.cursorDate.getDate())){isMakeSelection=true;if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,inst.cursorDate,'start');if(bk_1click_mode_days_start!=-1){var startDay=getAbsClosestValue(inst.cursorDate.getDay(),bk_1click_mode_days_start);inst.cursorDate.setDate(inst.cursorDate.getDate()-(inst.cursorDate.getDay()-startDay));bk_days_selection_mode=temp_bk_days_selection_mode;if(typeof(check_conditions_for_range_days_selection_for_check_in)=='function'){check_conditions_for_range_days_selection_for_check_in(inst.cursorDate,bk_type);}temp_bk_days_selection_mode=bk_days_selection_mode;bk_days_selection_mode='multiple';internal_bk_1click_mode_days_num=bk_1click_mode_days_num;}if(typeof(check_conditions_for_start_day_selection)=='function')check_conditions_for_start_day_selection(bk_type,inst.cursorDate,'end');}}}else{isMakeSelection=true;}var isEmptySelection=false;if(isMakeSelection){var date_start_range=inst.cursorDate;if(temp_bk_days_selection_mode!='dynamic'){original_array.push(jQuery.datepick._restrictMinMax(inst,jQuery.datepick._determineDate(inst,inst.cursorDate,null)));}else{original_array.push(jQuery.datepick._restrictMinMax(inst,jQuery.datepick._determineDate(inst,real_start_dynamic_date,null)));date_start_range=real_start_dynamic_date;}var dates_array=[];var range_array=[];var td;for(var i=1;i<internal_bk_1click_mode_days_num;i++){dates_array[i]=new Date();dates_array[i].setFullYear(date_start_range.getFullYear(),(date_start_range.getMonth()),(date_start_range.getDate()+i));td_class=(dates_array[i].getMonth()+1)+'-'+dates_array[i].getDate()+'-'+dates_array[i].getFullYear();td='#calendar_booking'+bk_type+' .cal4date-'+td_class;if(jQuery(td).hasClass('datepick-unselectable')){jQuery(td).removeClass('datepick-current-day');isEmptySelection=true;}if(is_this_day_booked(bk_type,td_class,i))isEmptySelection=true;date_to_ins=jQuery.datepick._restrictMinMax(inst,jQuery.datepick._determineDate(inst,dates_array[i],null));range_array.push(date_to_ins);}for(i=0;i<range_array.length;i++){for(j=0;j<original_array.length;j++){if((original_array[j]!=-1)&&(range_array[i]!=-1))if((range_array[i].getFullYear()==original_array[j].getFullYear())&&(range_array[i].getMonth()==original_array[j].getMonth())&&(range_array[i].getDate()==original_array[j].getDate())){range_array[i]=-1;original_array[j]=-1;}}}for(j=0;j<original_array.length;j++){if(original_array[j]!=-1)inst.dates.push(original_array[j]);}for(i=0;i<range_array.length;i++){if(range_array[i]!=-1)inst.dates.push(range_array[i]);}}if(!isEmptySelection)isEmptySelection=checkIfSomeDaysUnavailable(inst.dates,bk_type);if(isEmptySelection)inst.dates=[];if(temp_bk_days_selection_mode!='dynamic'){jQuery.datepick._updateInput('#calendar_booking'+bk_type);}else{if(isEmptySelection)jQuery.datepick._updateInput('#calendar_booking'+bk_type);else{dateStr=(inst.dates.length==0?'':jQuery.datepick._formatDate(inst,inst.dates[0]));for(i=1;i<inst.dates.length;i++)dateStr+=jQuery.datepick._get(inst,'multiSeparator')+jQuery.datepick._formatDate(inst,inst.dates[i]);jQuery('#date_booking'+bk_type).val(dateStr);}}if((is_dynamic_startdayequal_to_last===false)&&(start_end_date[0]==start_end_date[1])){if(inst.dates.length==1){inst.dates.push(inst.dates[0]);}}jQuery.datepick._notifyChange(inst);jQuery.datepick._adjustInstDate(inst);jQuery.datepick._showDate(inst);bk_days_selection_mode=temp_bk_days_selection_mode;}}function bkDisableBookedTimeSlots(all_dates,bk_type){var inst=jQuery.datepick._getInst(document.getElementById('calendar_booking'+bk_type));var td_class;var time_slot_field_name='select[name="rangetime'+bk_type+'"]';var time_slot_field_name2='select[name="rangetime'+bk_type+'[]"]';var start_time_slot_field_name='select[name="starttime'+bk_type+'"]';var start_time_slot_field_name2='select[name="starttime'+bk_type+'[]"]';all_dates=get_first_day_of_selection(all_dates);if((bk_days_selection_mode=='single')||(true)){var current_single_day_selections=all_dates.split('.');td_class=(current_single_day_selections[1]*1)+'-'+(current_single_day_selections[0]*1)+'-'+(current_single_day_selections[2]*1);var times_array=[];jQuery(time_slot_field_name+' option:disabled,'+time_slot_field_name2+' option:disabled,'+start_time_slot_field_name+' option:disabled,'+start_time_slot_field_name2+' option:disabled').removeClass('booked');jQuery(time_slot_field_name+' option:disabled,'+time_slot_field_name2+' option:disabled,'+start_time_slot_field_name+' option:disabled,'+start_time_slot_field_name2+' option:disabled').removeAttr('disabled');if(jQuery(time_slot_field_name+','+time_slot_field_name2+','+start_time_slot_field_name+','+start_time_slot_field_name2).length==0)return;var range_time_object=jQuery(time_slot_field_name+' option:first,'+time_slot_field_name2+' option:first,'+start_time_slot_field_name+' option:first,'+start_time_slot_field_name2+' option:first');if(range_time_object==undefined)return;if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined'){if((date_approved[bk_type][td_class][0][3]!=0)||(date_approved[bk_type][td_class][0][4]!=0)){for(i=0;i<date_approved[bk_type][td_class].length;i++){h=date_approved[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date_approved[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date_approved[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}}if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined')if((date2approve[bk_type][td_class][0][3]!=0)||(date2approve[bk_type][td_class][0][4]!=0)){for(i=0;i<date2approve[bk_type][td_class].length;i++){h=date2approve[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date2approve[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date2approve[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}times_array.sort();if(times_array.length>0){s=parseInt(times_array[0][2]);if(s==2){times_array[times_array.length]=['00','00','01'];times_array.sort();}s=parseInt(times_array[(times_array.length-1)][2]);if(s==1){times_array[times_array.length]=['23','59','02'];times_array.sort();}}var removed_time_slots=is_time_slot_booked_for_this_time_array(bk_type,times_array,td_class);var my_time_value=jQuery(time_slot_field_name+' option,'+time_slot_field_name2+' option,'+start_time_slot_field_name+' option,'+start_time_slot_field_name2+' option');for(j=0;j<my_time_value.length;j++){if(wpdev_in_array(removed_time_slots,j)){jQuery(time_slot_field_name+' option:eq('+j+'),'+time_slot_field_name2+' option:eq('+j+'),'+start_time_slot_field_name+' option:eq('+j+'),'+start_time_slot_field_name2+' option:eq('+j+')').attr('disabled','disabled');jQuery(time_slot_field_name+' option:eq('+j+'),'+time_slot_field_name2+' option:eq('+j+'),'+start_time_slot_field_name+' option:eq('+j+'),'+start_time_slot_field_name2+' option:eq('+j+')').addClass('booked');if(jQuery(time_slot_field_name+' option:eq('+j+'),'+time_slot_field_name2+' option:eq('+j+'),'+start_time_slot_field_name+' option:eq('+j+'),'+start_time_slot_field_name2+' option:eq('+j+')').attr('selected')){jQuery(time_slot_field_name+' option:eq('+j+'),'+time_slot_field_name2+' option:eq('+j+'),'+start_time_slot_field_name+' option:eq('+j+'),'+start_time_slot_field_name2+' option:eq('+j+')').removeAttr('selected');if(IEversion_4_bk==7){var rangetime_element=document.getElementsByName("rangetime"+bk_type);if(typeof(rangetime_element)!='undefined'&&rangetime_element!=null){set_selected_first_not_disabled_option_IE7(document.getElementsByName("rangetime"+bk_type)[0]);}var start_element=document.getElementsByName("starttime"+bk_type);if(typeof(start_element)!='undefined'&&start_element!=null){set_selected_first_not_disabled_option_IE7(document.getElementsByName("starttime"+bk_type)[0]);}}}}}if(IEversion_4_bk==7){emulate_disabled_options_to_gray_IE7("rangetime"+bk_type);emulate_disabled_options_to_gray_IE7("starttime"+bk_type);}}}function checkIfSomeDaysUnavailable(selected_dates,bk_type){var i,j,td_class;for(j=0;j<selected_dates.length;j++){if(typeof(is_this_day_available)=='function'){var is_day_available=is_this_day_available(selected_dates[j],bk_type);if(is_day_available instanceof Array)is_day_available=is_day_available[0];if(!is_day_available){return true;}}td_class=(selected_dates[j].getMonth()+1)+'-'+selected_dates[j].getDate()+'-'+selected_dates[j].getFullYear();if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined')if((date2approve[bk_type][td_class][0][3]==0)&&(date2approve[bk_type][td_class][0][4]==0)){return true;}if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined')if((date_approved[bk_type][td_class][0][3]==0)&&(date_approved[bk_type][td_class][0][4]==0)){return true;}}return false;}if(IEversion_4_bk==7){window.onload=function(){if(document.getElementsByTagName){var s=document.getElementsByTagName("select");if(s.length>0){window.select_current=new Array();for(var i=0,select;select=s[i];i++){select.onfocus=function(){window.select_current[this.id]=this.selectedIndex;}
select.onchange=function(){set_selected_previos_selected_option_IE7(this);}
emulate_disabled_options_to_gray_IE7(select.name);}}}}
function set_selected_previos_selected_option_IE7(e){if(e.options[e.selectedIndex].disabled){e.selectedIndex=window.select_current[e.id];}}function set_selected_first_not_disabled_option_IE7(e){if(e.options[e.selectedIndex].disabled){for(var i=0,option;option=e.options[i];i++){if(!option.disabled){e.selectedIndex=i;return 0;}}}return 0;}function emulate_disabled_options_to_gray_IE7(ename){jQuery('select[name="'+ename+'"] option,select[name="'+ename+'[]"] option').each(function(index){if(jQuery(this).prop('disabled')){jQuery(this).css('color','graytext');}else{jQuery(this).css('color','menutext');}});}}function isDayFullByTime(bk_type,td_class){var times_array=[];var time_slot_field_name='select[name="rangetime'+bk_type+'"]';var time_slot_field_name2='select[name="rangetime'+bk_type+'[]"]';if(typeof(wpbc_get_conditional_section_id_for_weekday)=='function'){var conditional_field_element_id=wpbc_get_conditional_section_id_for_weekday(td_class,bk_type);if(conditional_field_element_id!==false){time_slot_field_name=conditional_field_element_id+' '+'select[name="rangetime'+bk_type+'"]';time_slot_field_name2=conditional_field_element_id+' '+'select[name="rangetime'+bk_type+'[]"]';}}if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined'){for(i=0;i<date_approved[bk_type][td_class].length;i++){if((date_approved[bk_type][td_class][0][3]!=0)||(date_approved[bk_type][td_class][0][4]!=0)){h=date_approved[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date_approved[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date_approved[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}}if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined')for(i=0;i<date2approve[bk_type][td_class].length;i++){if((date2approve[bk_type][td_class][0][3]!=0)||(date2approve[bk_type][td_class][0][4]!=0)){h=date2approve[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date2approve[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date2approve[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}times_array.sort();var start_time_fields='select[name="starttime'+bk_type+'"]';var start_time_fields2='select[name="starttime'+bk_type+'[]"]';var is_element_exist=jQuery(time_slot_field_name+','+time_slot_field_name2+','+start_time_fields+','+start_time_fields2).length;if(is_element_exist){var my_timerange_value=jQuery(time_slot_field_name+' option,'+time_slot_field_name2+' option');var my_st_en_times;var my_temp_time;var times_ranges_array=[];for(var j=0;j<my_timerange_value.length;j++){my_st_en_times=my_timerange_value[j].value.split(' - ');my_temp_time=my_st_en_times[0].split(':');times_ranges_array[times_ranges_array.length]=[my_temp_time[0],my_temp_time[1],'01'];my_temp_time=my_st_en_times[1].split(':');times_ranges_array[times_ranges_array.length]=[my_temp_time[0],my_temp_time[1],'02'];}if(times_array.length==times_ranges_array.length){var is_all_same=true;for(var i=0;i<times_array.length;i++){if((times_array[i][0]!=times_ranges_array[i][0])||(times_array[i][1]!=times_ranges_array[i][1])||(times_array[i][2]!=times_ranges_array[i][2]))is_all_same=false;}if(is_all_same)return true;}var my_start_time_options=jQuery(start_time_fields+' option,'+start_time_fields2+' option');if((my_start_time_options.length>0)&&(bk_days_selection_mode=='single')){var removed_time_slots=is_time_slot_booked_for_this_time_array(bk_type,times_array,td_class);var some_exist_time_slots=[];var my_time_value=jQuery(start_time_fields+' option,'+start_time_fields2+' option');for(j=0;j<my_time_value.length;j++){if(wpdev_in_array(removed_time_slots,j)){}else{some_exist_time_slots[some_exist_time_slots.length]=j;}}if(some_exist_time_slots.length==0)return true;}if((my_timerange_value.length>0)&&(bk_days_selection_mode=='single')){var removed_time_slots=is_time_slot_booked_for_this_time_array(bk_type,times_array,td_class);var some_exist_time_slots=[];var my_time_value=jQuery(time_slot_field_name+' option,'+time_slot_field_name2+' option');for(j=0;j<my_time_value.length;j++){if(wpdev_in_array(removed_time_slots,j)){}else{some_exist_time_slots[some_exist_time_slots.length]=j;}}if(some_exist_time_slots.length==0)return true;}}for(var i=0;i<times_array.length;i++){s=parseInt(times_array[i][2]);if(i==0)if(s!==2){return false;}if(i>0){if(s==1)if(!((times_array[i-1][0]==times_array[i][0])&&(times_array[i-1][1]==times_array[i][1]))){return false;}}if(i==(times_array.length-1))if(s!==1){return false;}}return true;}function is_time_slot_booked_for_this_time_array(bk_type,times_array,td_class){var time_slot_field_name='select[name="rangetime'+bk_type+'"]';var time_slot_field_name2='select[name="rangetime'+bk_type+'[]"]';if(typeof(wpbc_get_conditional_section_id_for_weekday)=='function'){var conditional_field_element_id=wpbc_get_conditional_section_id_for_weekday(td_class,bk_type);if(conditional_field_element_id!==false){time_slot_field_name=conditional_field_element_id+' '+'select[name="rangetime'+bk_type+'"]';time_slot_field_name2=conditional_field_element_id+' '+'select[name="rangetime'+bk_type+'[]"]';}}var start_time_slot_field_name='select[name="starttime'+bk_type+'"]';var start_time_slot_field_name2='select[name="starttime'+bk_type+'[]"]';if(typeof(wpbc_get_conditional_section_id_for_weekday)=='function'){var conditional_field_element_id=wpbc_get_conditional_section_id_for_weekday(td_class,bk_type);if(conditional_field_element_id!==false){start_time_slot_field_name=conditional_field_element_id+' '+'select[name="starttime'+bk_type+'"]';start_time_slot_field_name2=conditional_field_element_id+' '+'select[name="starttime'+bk_type+'[]"]';}}times_array.sort();var my_time_value='';var j;var bk_time_slot_selection='';var minutes_booked;var minutes_slot;var my_range_time;var removed_time_slots=[];if(times_array.length>0){if(parseInt(times_array[0][2])==2){var new_times_array=[];new_times_array[new_times_array.length]=['00','00','01'];for(var i=0;i<times_array.length;i++){new_times_array[new_times_array.length]=times_array[i];}times_array=new_times_array;}if(parseInt(times_array[(times_array.length-1)][2])==1){times_array[times_array.length]=['23','59','02'];}}for(var i=0;i<times_array.length;i++){var s=parseInt(times_array[i][2]);if(i>0){if(s==2){my_range_time=times_array[i-1][0]+':'+times_array[i-1][1]+' - '+times_array[i][0]+':'+times_array[i][1];my_time_value=jQuery(time_slot_field_name+' option,'+time_slot_field_name2+' option,'+start_time_slot_field_name+' option,'+start_time_slot_field_name2+' option');for(j=0;j<my_time_value.length;j++){if(my_time_value[j].value==my_range_time){removed_time_slots[removed_time_slots.length]=j;}else{bk_time_slot_selection=my_time_value[j].value;var is_time_range=bk_time_slot_selection.indexOf("-");if(is_time_range>-1){bk_time_slot_selection=bk_time_slot_selection.split('-');bk_time_slot_selection[0]=jQuery.trim(bk_time_slot_selection[0]);bk_time_slot_selection[1]=jQuery.trim(bk_time_slot_selection[1]);bk_time_slot_selection[0]=bk_time_slot_selection[0].split(':');bk_time_slot_selection[1]=bk_time_slot_selection[1].split(':');minutes_booked=[(parseInt(times_array[i-1][0]*60)+parseInt(times_array[i-1][1])),(parseInt(times_array[i][0]*60)+parseInt(times_array[i][1]))];minutes_slot=[(parseInt(bk_time_slot_selection[0][0]*60)+parseInt(bk_time_slot_selection[0][1])),(parseInt(bk_time_slot_selection[1][0]*60)+parseInt(bk_time_slot_selection[1][1]))];if(((minutes_booked[0]>=minutes_slot[0])&&(minutes_booked[0]<minutes_slot[1]))||((minutes_booked[1]>minutes_slot[0])&&(minutes_booked[1]<=minutes_slot[1]))||((minutes_slot[0]>=minutes_booked[0])&&(minutes_slot[0]<minutes_booked[1]))||((minutes_slot[1]>minutes_booked[0])&&(minutes_slot[1]<=minutes_booked[1]))){removed_time_slots[removed_time_slots.length]=j;}}else{bk_time_slot_selection=bk_time_slot_selection.split(':');minutes_booked=[(parseInt(times_array[i-1][0]*60)+parseInt(times_array[i-1][1])),(parseInt(times_array[i][0]*60)+parseInt(times_array[i][1]))];minutes_slot=[(parseInt(bk_time_slot_selection[0]*60)+parseInt(bk_time_slot_selection[1]))];if(((minutes_slot[0]>=minutes_booked[0])&&(minutes_slot[0]<minutes_booked[1]))){removed_time_slots[removed_time_slots.length]=j;}}}}}}}return removed_time_slots;}function hoverDayTime(value,date,bk_type){if(date==null)return;var i=0;var h='';var m='';var s='';var td_class;var tooltip_time='';var times_array=[];td_class=(date.getMonth()+1)+'-'+date.getDate()+'-'+date.getFullYear();if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined'){if((date_approved[bk_type][td_class][0][3]!=0)||(date_approved[bk_type][td_class][0][4]!=0)){for(i=0;i<date_approved[bk_type][td_class].length;i++){h=date_approved[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date_approved[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date_approved[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}}if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined')if((date2approve[bk_type][td_class][0][3]!=0)||(date2approve[bk_type][td_class][0][4]!=0)){for(i=0;i<date2approve[bk_type][td_class].length;i++){h=date2approve[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date2approve[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date2approve[bk_type][td_class][i][5];if(s==2)s='02';times_array[times_array.length]=[h,m,s];}}if(typeof(hover_day_check_global_time_availability)=='function'){times_array=hover_day_check_global_time_availability(date,bk_type,times_array);}times_array.sort();for(i=0;i<times_array.length;i++){s=parseInt(times_array[i][2]);if(s==2){if(tooltip_time=='')tooltip_time='&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp; - ';}if((tooltip_time=='')&&(times_array[i][0]=='00')&&(times_array[i][1]=='00'))tooltip_time='&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;';else if((i==(times_array.length-1))&&(times_array[i][0]=='23')&&(times_array[i][1]=='59'))tooltip_time+=' &nbsp;&nbsp;&nbsp;&nbsp;... ';else{var hours_show=times_array[i][0];var hours_show_sufix='';if(is_am_pm_inside_time){if(hours_show>=12){hours_show=hours_show-12;if(hours_show==0)hours_show=12;hours_show_sufix=' pm';}else{hours_show_sufix=' am';}}if(times_array[i][2]=='02'){times_array[i][1]=(times_array[i][1]*1)+time_buffer_value;if(times_array[i][1]>59){times_array[i][1]=times_array[i][1]-60;hours_show=(hours_show*1)+1;}if(times_array[i][1]<10)times_array[i][1]='0'+times_array[i][1];}tooltip_time+=hours_show+':'+times_array[i][1]+hours_show_sufix;}if(s==1){tooltip_time+=' - ';if(i==(times_array.length-1))tooltip_time+=' &nbsp;&nbsp;&nbsp;&nbsp;... ';}if(s==2){tooltip_time+=get_additional_info_for_tooltip(bk_type,td_class,times_array[i][0]+':'+times_array[i][1]);tooltip_time+='<br />';}}if(tooltip_time.indexOf("undefined")>-1){tooltip_time='';}else{if((tooltip_time!='')&&(bk_highlight_timeslot_word!='')){if(is_booking_used_check_in_out_time===true)tooltip_time='';else
tooltip_time='<span class="wpbc_booked_times_word">'+bk_highlight_timeslot_word+'</span><br />'+tooltip_time;}}if(typeof(getDayPrice4Show)=='function'){tooltip_time=getDayPrice4Show(bk_type,tooltip_time,td_class);}if(typeof(getDayAvailability4Show)=='function'){tooltip_time=getDayAvailability4Show(bk_type,tooltip_time,td_class);}jQuery('#calendar_booking'+bk_type+' td.cal4date-'+td_class).attr('data-content',tooltip_time);}function get_additional_info_for_tooltip(bk_type,td_class,times_array){if((bk_show_info_in_form==undefined)||(!bk_show_info_in_form))return'';var return_variable='<span style=\"font-weight:normal !important;font-size:11px !important;\">';var posi=0;var this_booking_end_time='';for(var ik=0;ik<dates_additional_info[bk_type][td_class].length;ik++){if(dates_additional_info[bk_type][td_class][ik]['endtime']!=undefined){this_booking_end_time=dates_additional_info[bk_type][td_class][ik]['endtime'];}else if(dates_additional_info[bk_type][td_class][ik]['rangetime']!=undefined){posi=dates_additional_info[bk_type][td_class][ik]['rangetime'].indexOf(' - ');this_booking_end_time=dates_additional_info[bk_type][td_class][ik]['rangetime'].substr(posi+3);}if(this_booking_end_time==times_array){return_variable+=' - ';if(dates_additional_info[bk_type][td_class][ik]['name']!=undefined)return_variable+=dates_additional_info[bk_type][td_class][ik]['name'];if(dates_additional_info[bk_type][td_class][ik]['secondname']!=undefined)return_variable+=' '+dates_additional_info[bk_type][td_class][ik]['secondname'];if(dates_additional_info[bk_type][td_class][ik]['details2']!=undefined)return_variable+='<br /> '+dates_additional_info[bk_type][td_class][ik]['details2']+'';return_variable+='</span>'
return return_variable;}}return'';}function isTimeTodayGone(myTime,sort_date_array){var date_to_check=sort_date_array[0];if(is_check_start_time_gone==false){date_to_check=sort_date_array[(sort_date_array.length-1)];}if(parseInt(date_to_check[0])<parseInt(wpdev_bk_today[0]))return true;if((parseInt(date_to_check[0])==parseInt(wpdev_bk_today[0]))&&(parseInt(date_to_check[1])<parseInt(wpdev_bk_today[1])))return true;if((parseInt(date_to_check[0])==parseInt(wpdev_bk_today[0]))&&(parseInt(date_to_check[1])==parseInt(wpdev_bk_today[1]))&&(parseInt(date_to_check[2])<parseInt(wpdev_bk_today[2])))return true;if((parseInt(date_to_check[0])==parseInt(wpdev_bk_today[0]))&&(parseInt(date_to_check[1])==parseInt(wpdev_bk_today[1]))&&(parseInt(date_to_check[2])==parseInt(wpdev_bk_today[2]))){var mytime_value=myTime.split(":");mytime_value=mytime_value[0]*60+parseInt(mytime_value[1]);var current_time_value=wpdev_bk_today[3]*60+parseInt(wpdev_bk_today[4]);if(current_time_value>mytime_value)return true;}return false;}var start_time_checking_index;function checkTimeInside(mytime,is_start_time,bk_type){if(typeof(check_entered_time_to_global_availability_time)=='function'){if(!check_entered_time_to_global_availability_time(mytime,is_start_time,bk_type))return false;}var my_dates_str=document.getElementById('date_booking'+bk_type).value;return checkTimeInsideProcess(mytime,is_start_time,bk_type,my_dates_str);}function checkRecurentTimeInside(my_rangetime,bk_type){var valid_time=true;var my_dates_str=document.getElementById('date_booking'+bk_type).value;var date_array=my_dates_str.split(", ");if(date_array.length==2){if(date_array[0]==date_array[1]){date_array=[date_array[0]];}}var temp_date_str='';for(var i=0;i<date_array.length;i++){temp_date_str=date_array[i];if(checkTimeInsideProcess(my_rangetime[0],true,bk_type,temp_date_str)==false)valid_time=false;if(checkTimeInsideProcess(my_rangetime[1],false,bk_type,temp_date_str)==false)valid_time=false;}return valid_time;}function checkTimeInsideProcess(mytime,is_start_time,bk_type,my_dates_str){var date_array=my_dates_str.split(", ");if(date_array.length==2){if(date_array[0]==date_array[1]){date_array=[date_array[0]];}}var temp_elemnt;var td_class;var sort_date_array=[];var work_date_array=[];var times_array=[];var is_check_for_time;for(var i=0;i<date_array.length;i++){temp_elemnt=date_array[i].split(".");sort_date_array[i]=[temp_elemnt[2],temp_elemnt[1]+'',temp_elemnt[0]+''];}sort_date_array.sort();for(i=0;i<sort_date_array.length;i++){sort_date_array[i]=[parseInt(sort_date_array[i][0]*1),parseInt(sort_date_array[i][1]*1),parseInt(sort_date_array[i][2]*1)];}if(((is_check_start_time_gone)&&(is_start_time))||((!is_check_start_time_gone)&&(!is_start_time))){if(isTimeTodayGone(mytime,sort_date_array))return false;}work_date_array=sort_date_array;for(var j=0;j<work_date_array.length;j++){td_class=work_date_array[j][1]+'-'+work_date_array[j][2]+'-'+work_date_array[j][0];if((j==0)||(j==(work_date_array.length-1)))is_check_for_time=true;else is_check_for_time=false;if(typeof(date2approve[bk_type])!=='undefined'){if((typeof(date2approve[bk_type][td_class])!=='undefined')){if(!is_check_for_time){return false;}if((date2approve[bk_type][td_class][0][3]!=0)||(date2approve[bk_type][td_class][0][4]!=0)){}else{return false;}}}if(typeof(date_approved[bk_type])!=='undefined'){if((typeof(date_approved[bk_type][td_class])!=='undefined')){if(!is_check_for_time){return false;}if((date_approved[bk_type][td_class][0][3]!=0)||(date_approved[bk_type][td_class][0][4]!=0)){}else{return false;}}}}if(is_start_time)work_date_array=sort_date_array[0];else work_date_array=sort_date_array[sort_date_array.length-1];td_class=work_date_array[1]+'-'+work_date_array[2]+'-'+work_date_array[0];if(typeof(date2approve[bk_type])!=='undefined')if(typeof(date2approve[bk_type][td_class])!=='undefined')for(i=0;i<date2approve[bk_type][td_class].length;i++){h=date2approve[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date2approve[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date2approve[bk_type][td_class][i][5];if(s=='02'){m=(m*1)+time_buffer_value;if(m>59){m=m-60;h=(h*1)+1;}if(m<10)m='0'+m;}times_array[times_array.length]=[h,m,s];}if(typeof(date_approved[bk_type])!=='undefined')if(typeof(date_approved[bk_type][td_class])!=='undefined')for(i=0;i<date_approved[bk_type][td_class].length;i++){h=date_approved[bk_type][td_class][i][3];if(h<10)h='0'+h;if(h==0)h='00';m=date_approved[bk_type][td_class][i][4];if(m<10)m='0'+m;if(m==0)m='00';s=date_approved[bk_type][td_class][i][5];if(s=='02'){m=(m*1)+time_buffer_value;if(m>59){m=m-60;h=(h*1)+1;}if(m<10)m='0'+m;}times_array[times_array.length]=[h,m,s];}times_array.sort();var times_in_day=[];var times_in_day_interval_marks=[];for(i=0;i<times_array.length;i++){s=times_array[i][2];if((s==2)&&(i==0)){times_in_day[times_in_day.length]=0;times_in_day_interval_marks[times_in_day_interval_marks.length]=1;}times_in_day[times_in_day.length]=times_array[i][0]*60+parseInt(times_array[i][1]);times_in_day_interval_marks[times_in_day_interval_marks.length]=s;if((s==1)&&(i==(times_array.length-1))){times_in_day[times_in_day.length]=(24*60);times_in_day_interval_marks[times_in_day_interval_marks.length]=2;}}var mytime_value=mytime.split(":");mytime_value=mytime_value[0]*60+parseInt(mytime_value[1]);var start_i=0;if(start_time_checking_index!=undefined)if(start_time_checking_index[0]!=undefined)if((!is_start_time)&&(sort_date_array.length==1)){start_i=start_time_checking_index[0];}i=start_i;for(i=start_i;i<times_in_day.length;i++){times_in_day[i]=parseInt(times_in_day[i]);mytime_value=parseInt(mytime_value);if(is_start_time){if(mytime_value>times_in_day[i]){}else if(mytime_value==times_in_day[i]){if(times_in_day_interval_marks[i]==1){return false;}else{if((i+1)<=(times_in_day.length-1)){if(times_in_day[i+1]<=mytime_value)return false;else{if(sort_date_array.length>1)if((i+1)<=(times_in_day.length-1))return false;start_time_checking_index=[i,td_class,mytime_value];return true;}}if(sort_date_array.length>1)if((i+1)<=(times_in_day.length-1))return false;start_time_checking_index=[i,td_class,mytime_value];return true;}}else if(mytime_value<times_in_day[i]){if(times_in_day_interval_marks[i]==2){return false;}else{if(sort_date_array.length>1)if((i+1)<=(times_in_day.length-1))return false;start_time_checking_index=[i,td_class,mytime_value];return true;}}}else{if(sort_date_array.length==1){if(start_time_checking_index!=undefined)if(start_time_checking_index[2]!=undefined)if((start_time_checking_index[2]==times_in_day[i])&&(times_in_day_interval_marks[i]==2)){}else if(times_in_day[i]<mytime_value)return false;else{if(start_time_checking_index[2]>=mytime_value)return false;return true;}}else{if(times_in_day[i]<mytime_value)return false;else return true;}}}if(is_start_time)start_time_checking_index=[i,td_class,mytime_value];else{if(start_time_checking_index!=undefined)if(start_time_checking_index[2]!=undefined)if((sort_date_array.length==1)&&(start_time_checking_index[2]>=mytime_value))return false;}return true;}function save_this_booking_cost(booking_id,cost,wpdev_active_locale){if(cost!=''){wpbc_admin_show_message_processing('saving');var ajax_type_action='SAVE_BK_COST';jQuery.ajax({url:wpbc_ajaxurl,type:'POST',success:function(data,textStatus){if(textStatus=='success')jQuery('#ajax_respond').html(data);},error:function(XMLHttpRequest,textStatus,errorThrown){window.status='Ajax sending Error status:'+textStatus;alert(XMLHttpRequest.status+' '+XMLHttpRequest.statusText);if(XMLHttpRequest.status==500){alert('Please check at this page according this error:'+' https://wpbookingcalendar.com/faq/#ajax-sending-error');}},data:{action:ajax_type_action,booking_id:booking_id,cost:cost,wpdev_active_locale:wpdev_active_locale,wpbc_nonce:document.getElementById('wpbc_admin_panel_nonce').value}});return false;}return true;}function sendPaymentRequestByEmail(payment_request_id,request_reason,user_id,wpdev_active_locale){wpdev_active_locale=wpbc_get_selected_locale(payment_request_id,wpdev_active_locale);wpbc_admin_show_message_processing('');var ajax_type_action='SEND_PAYMENT_REQUEST';jQuery.ajax({url:wpbc_ajaxurl,type:'POST',success:function(data,textStatus){if(textStatus=='success')jQuery('#ajax_respond').html(data);},error:function(XMLHttpRequest,textStatus,errorThrown){window.status='Ajax sending Error status:'+textStatus;alert(XMLHttpRequest.status+' '+XMLHttpRequest.statusText);if(XMLHttpRequest.status==500){alert('Please check at this page according this error:'+' https://wpbookingcalendar.com/faq/#ajax-sending-error');}},data:{action:ajax_type_action,booking_id:payment_request_id,reason:request_reason,user_id:user_id,wpdev_active_locale:wpdev_active_locale,wpbc_nonce:document.getElementById('wpbc_admin_panel_nonce').value}});return false;}function change_booking_payment_status(booking_id,payment_status,payment_status_show){wpbc_admin_show_message_processing('updating');var ajax_type_action='CHANGE_PAYMENT_STATUS';jQuery.ajax({url:wpbc_ajaxurl,type:'POST',success:function(data,textStatus){if(textStatus=='success')jQuery('#ajax_respond').html(data);},error:function(XMLHttpRequest,textStatus,errorThrown){window.status='Ajax sending Error status:'+textStatus;alert(XMLHttpRequest.status+' '+XMLHttpRequest.statusText);if(XMLHttpRequest.status==500){alert('Please check at this page according this error:'+' https://wpbookingcalendar.com/faq/#ajax-sending-error');}},data:{action:ajax_type_action,booking_id:booking_id,payment_status:payment_status,payment_status_show:payment_status_show,wpbc_nonce:document.getElementById('wpbc_admin_panel_nonce').value}});}function wpbc_print_specific_booking(booking_id){jQuery("#print_loyout_content").html(jQuery("#booking_print_loyout").html());jQuery("#print_loyout_content .wpbc_print_rows").hide();jQuery("#print_loyout_content #wpbc_print_row"+booking_id).show();if(jQuery.isFunction(jQuery('#wpbc_print_modal').modal)){jQuery('#wpbc_print_modal').modal('show');}else{alert('Warning! Booking Calendar. Its seems that  you have deactivated loading of Bootstrap JS files at Booking Settings General page in Advanced section.')}}function wpbc_print_specific_booking_for_timeline(booking_id){jQuery("#print_loyout_content").html(jQuery("#wpbc-booking-id-"+booking_id).parent().parent().html());jQuery("#print_loyout_content").children().hide();jQuery("#print_loyout_content").children('.popover-content').show();if(jQuery.isFunction(jQuery('#wpbc_print_modal').modal)){jQuery('#wpbc_print_modal').modal('show');}else{alert('Warning! Booking Calendar. Its seems that  you have deactivated loading of Bootstrap JS files at Booking Settings General page in Advanced section.')}}